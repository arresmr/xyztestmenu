<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>XYZ MENU - UI Switcher</title>
  <meta name="viewport" content="width=600, initial-scale=1.0"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
      background: transparent;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      overflow: hidden;
    }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .menu-wrapper {
      border-radius: 12px;
      border: 1.5px solid rgba(138,43,226,0.4);
      background: rgba(0,0,0,0.85);
      box-shadow: 0 10px 30px 0px #8a2be260;
      padding: 44px 36px;
      min-width: 420px;
      min-height: 210px;
      display: flex;
      gap: 32px;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .switcher-option {
      background: rgba(255,255,255,0.05);
      border-radius: 10px;
      border: 2.5px solid rgba(138,43,226,0.3);
      min-width: 160px;
      min-height: 170px;
      box-sizing: border-box;
      padding: 22px 18px 14px 18px;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: box-shadow 0.18s, border-color 0.18s, background 0.18s;
      cursor: pointer;
      outline: none;
      position: relative;
      box-shadow: 0 2px 12px 0px #8a2be214;
      user-select: none;
    }
    .switcher-option.selected {
      border-color: rgb(138,43,226);
      box-shadow: 0 0 0 3px #8a2be244;
      background: rgba(138,43,226,0.18);
    }
    .switcher-label {
      font-size: 1.20rem;
      font-weight: 600;
      color: #fff;
      margin-top: 18px;
      letter-spacing: 0.2px;
      text-align: center;
      user-select: none;
      text-shadow: 0 1px 4px #0005;
    }
    .switcher-icon {
      width: 54px;
      height: 54px;
      display: block;
      margin-bottom: 0px;
      filter: drop-shadow(0 3px 10px #8a2be2aa);
    }
    .switcher-box-outline {
      position: absolute;
      left: 0; top: 0;
      width: 100%; height: 100%;
      border-radius: 12px;
      pointer-events: none;
      border: 2.5px solid rgba(138,43,226,0.6);
      box-sizing: border-box;
      opacity: 0.14;
      z-index: 0;
    }
    .menu-title {
      position: absolute;
      top: -34px;
      left: 0; right: 0;
      text-align: center;
      color: #fff;
      font-weight: 700;
      font-size: 1.15rem;
      letter-spacing: 1px;
      text-shadow: 0 2px 9px #8a2be260;
      user-select: none;
    }
  </style>
</head>
<body>
  <div class="menu-title">Choose Control UI</div>
  <div class="menu-wrapper" id="menuWrapper">
    <div class="switcher-option selected" id="mouseOption" tabindex="0">
      <img class="switcher-icon" src="https://www.svgrepo.com/show/533144/mouse-alt-1.svg" alt="Mouse Icon">
      <div class="switcher-label">Mouse UI</div>
    </div>
    <div class="switcher-option" id="keyboardOption" tabindex="0">
      <img class="switcher-icon" src="https://www.svgrepo.com/show/533083/keyboard.svg" alt="Keyboard Icon">
      <div class="switcher-label">Keyboard UI</div>
    </div>
    <div class="switcher-box-outline"></div>
  </div>
  <script>
    // UI logic: switching and execution
    let selectedIndex = 0; // 0 = mouse, 1 = keyboard
    const options = [
      document.getElementById('mouseOption'),
      document.getElementById('keyboardOption')
    ];
    function updateSelection() {
      options.forEach((opt, i) => {
        opt.classList.toggle('selected', i === selectedIndex);
      });
    }
    // Keyboard navigation (left/right arrows, Enter)
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft') {
        selectedIndex = (selectedIndex + options.length - 1) % options.length;
        updateSelection();
      }
      if (e.key === 'ArrowRight') {
        selectedIndex = (selectedIndex + 1) % options.length;
        updateSelection();
      }
      if (e.key === 'Tab') {
        selectedIndex = (selectedIndex + 1) % options.length;
        updateSelection();
        e.preventDefault();
      }
      if (e.key === 'Enter' || e.key === ' ') {
        executeSelected();
      }
      if (e.key === 'Escape') {
        window.postMessage(JSON.stringify({action: "closeUi"}), "*"); // for closing
      }
    });
    // Mouse click selection
    options.forEach((opt, i) => {
      opt.addEventListener('click', () => {
        selectedIndex = i;
        updateSelection();
        executeSelected();
      });
    });
    // Execution logic (replace with your actual execution code)
    function executeSelected() {
      if (selectedIndex === 0) {
        window.postMessage(JSON.stringify({action: "executeMouseUI"}), "*");
      } else {
        window.postMessage(JSON.stringify({action: "executeKeyboardUI"}), "*");
      }
    }
    // Initial selection
    updateSelection();
  </script>
</body>
</html>
